window.Kamome=function(){var n=function(){return navigator.userAgent.toLowerCase().indexOf("android")>0},e=function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("iphone")>0||n.indexOf("ipad")>0||n.indexOf("ipod")>0},i={},t={},o=function(n,e){return n in i||(i[n]=[]),i[n].push(e),this},r=function(n,e){if(n in i)for(var t=i[n].length-1;t>=0;--t)i[n][t]===e&&i[n].splice(t,1);return this},a=function(i,o){var r=JSON.stringify({name:i,data:o});e()?"webkit"in window&&setTimeout(function(){window.webkit.messageHandlers.kamomeSend.postMessage(r)},0):n()?"kamomeAndroid"in window&&setTimeout(function(){window.kamomeAndroid.kamomeSend(r)},0):i in t&&setTimeout(function(){var n=function(n){return function(e){u(n,e?JSON.stringify(e):null)}}(i);t[i](o,n)},0)},u=function(n,e){n in i&&i[n].forEach(function(n){n(e?JSON.parse(e):null)})},d=function(n,e){return t[n]=e,this};return{addListener:o,removeListener:r,send:a,onReceive:u,addWebHandler:d}}();