(function(e){function n(n){for(var o,c,u=n[0],a=n[1],s=n[2],f=0,d=[];f<u.length;f++)c=u[f],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);l&&l(n);while(d.length)d.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,u=1;u<t.length;u++){var a=t[u];0!==r[a]&&(o=!1)}o&&(i.splice(n--,1),e=c(c.s=t[0]))}return e}var o={},r={app:0},i=[];function c(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=o,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)c.d(t,o,function(n){return e[n]}.bind(null,o));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var l=a;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var o=t("85ec"),r=t.n(o);r.a},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=(t("5363"),t("ce5b")),i=t.n(r);t("bf40");o["default"].use(i.a);var c=new i.a({icons:{iconfont:"mdi"}}),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",{attrs:{id:"app"}},[t("v-app-bar",{attrs:{app:"",color:"deep-purple accent-4",dark:"",height:"80"}},[t("v-toolbar-title",[e._v("Kamome Sample App")])],1),t("v-main",[t("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v("Message")])])]),t("tbody",e._l(e.messages,(function(n,o){return t("tr",{key:o,on:{click:function(n){return e.onClickMessage(o)}}},[t("td",[e._v(e._s(n))])])})),0)]},proxy:!0}])}),t("v-bottom-sheet",{scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[t("v-btn",e._g(e._b({staticClass:"menu-button",attrs:{color:"deep-purple accent-4",dark:""}},"v-btn",r,!1),o),[e._v(" Menu ")])]}}]),model:{value:e.sheet,callback:function(n){e.sheet=n},expression:"sheet"}},[t("v-list",[t("v-btn",{staticClass:"close-menu-button",attrs:{fab:"",dark:"",small:"",color:"pink"},on:{click:e.onCloseMenu}},[t("v-icon",[e._v("mdi-minus")])],1),t("v-subheader",[e._v("Menu")]),e._l(e.tiles,(function(n){return t("v-list-item",{key:n.key,staticClass:"center",on:{click:function(t){return e.onClickSheetItem(n.key)}}},[t("v-list-item-title",[e._v(e._s(n.title))])],1)}))],2)],1)],1)],1)},a=[];t("99af"),t("b0c0"),t("c975"),t("d3b7"),t("ac1f"),t("25f0"),t("5319");window.Kamome=function(e){var n={requestTimeout:"RequestTimeout",rejected:"Rejected",canceled:"Canceled"},t=function(){var e=function(){return navigator.userAgent.toLowerCase().indexOf("android")>0&&"kamomeAndroid"in window},n=function(e){setTimeout((function(){window.kamomeAndroid.kamomeSend(e)}),0)};return{hasClient:e,_send:n}}(),o=function(){var e=function(){return"webkit"in window&&!!window.webkit.messageHandlers.kamomeSend},n=function(e){setTimeout((function(){window.webkit.messageHandlers.kamomeSend.postMessage(e)}),0)};return{hasClient:e,_send:n}}(),r=function(){var e={},n=function(n,t){return e[n]=t,this},t=function(n){return n in e},o=function(n){setTimeout((function(){var t=function(e,n){return function(e){w(e?JSON.stringify(e):null,n)}}(n.name,n.id),o=function(e){return function(n){y(n,e)}}(n.id);e[n.name](n.data,t,o)}),0)};return{addCommand:n,_hasCommand:t,_execCommand:o}}(),i=function(){var e={},n={},t=function(n,t){return e[n]=t,this},o=function(e,t){return n[e]=t,this},r=function(n){e[n]&&e[n]()},i=function(e){n[e]&&n[e]()};return{before:t,after:o,_execActionBefore:r,_execActionAfter:i}}(),c={},u=[],a=!1,s=1e4,l=function(e){return s=e,this},f=function(e,n){return c[e]=n,this},d=function(e){return e in c&&delete c[e],this},m=function(n,t,o,r){return i._execActionBefore(n),null!==r&&r!==e||(r=s),o?(u.push({id:x(),name:n,data:t,timeout:r,callback:o}),h(),null):new Promise((function(e,o){u.push({id:x(),name:n,data:t,timeout:r,resolve:e,reject:o}),h()}))},p=function(e){if(0!==u.length){a=!1;var t=e?":"+e:"";v((function(e){"callback"in e?e.callback(null,n.canceled+":"+e.name+t):"reject"in e&&e.reject(n.canceled+":"+e.name+t)}))}},h=function(){if(0!==u.length&&!a){a=!0;var e=u[0],i=JSON.stringify({name:e.name,data:e.data,id:e.id});o.hasClient()?o._send(i):t.hasClient()?t._send(i):r._hasCommand(e.name)&&r._execCommand(e),e.timeout>0&&setTimeout(function(e){return function(){a=!1,u.length>0&&u[0].id===e&&v((function(e){"callback"in e?e.callback(null,n.requestTimeout+":"+e.name):"reject"in e&&e.reject(n.requestTimeout+":"+e.name)}))}}(e.id),e.timeout)}},v=function(e){e(u.shift()),h()},g=function(e){return"[object Object]"==={}.toString.call(e)},b=function(e){return"[object Function]"==={}.toString.call(e)},x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0,t="x"===e?n:3&n|8;return t.toString(16)})).toLowerCase()},k=function n(t,o){for(var r in o=o||{},o)null===o[r]||o[r]===e?t[r]=null:g(o[r])?t[r]=n(t[r]||{},o[r]):t[r]=o[r];return t},w=function(e,n){if(a=!1,u.length>0&&u[0].id===n){var t=e?JSON.parse(e):null;v((function(e){"callback"in e?e.callback(t,null):"resolve"in e&&e.resolve(t),i._execActionAfter(e.name)}))}return null},y=function(e,t){if(a=!1,u.length>0&&u[0].id===t){var o=e?":"+e:"";v((function(e){"callback"in e?e.callback(null,n.rejected+":"+e.name+o):"reject"in e&&e.reject(n.rejected+":"+e.name+o),i._execActionAfter(e.name)}))}return null},_=function(e,n,t){return e in c&&new Promise((function(t,o){var r=c[e],i=r(n?JSON.parse(n):null,t,o);i&&t(i)})).then((function(e){m(t,{result:e,success:!0})})).catch((function(e){m(t,{error:e,success:!1})})),null},C={Error:n,android:t,iOS:o,browser:r,hook:i,setDefaultRequestTimeout:l,addReceiver:f,removeReceiver:d,send:m,cancelCurrentRequest:p,onComplete:w,onError:y,onReceive:_};return C.extension={addCommand:function(e,n,t){return C[t||e]=function(e,n){return function(t,o,r){var i=b(t)?t(k({},n)):k(k({},n),t);return m(e,i,o,r)}}(e,n),this}},C}();var s=window.Kamome,l={name:"App",components:{},data:function(){return{sheet:!1,tiles:[{key:1,title:"Send Data to Native"},{key:2,title:"Error from Native"},{key:3,title:"Timeout Sample"},{key:4,title:"Cancel Request"},{key:5,title:"Non-existent Command"},{key:6,title:"Hook Sample"}],count:0,messages:[]}},methods:{onClickSheetItem:function(e){var n=this;1===e?s.send("echo",{message:"Hello World! ("+ ++this.count+")"}).then((function(e){n.messages.push(e.message)})).catch((function(e){n.messages.push(e)})):2===e?s.send("echoError").then((function(e){n.messages.push(e.messages)})).catch((function(e){n.messages.push(e)})):3===e?s.send("tooLong").catch((function(e){return n.messages.push(e)})):4===e?s.cancelCurrentRequest():5===e?s.send("deleteUser").catch((function(e){return n.messages.push(e)})):6===e&&s.send("getScore").then((function(e){return n.messages.push("Score: ".concat(e.score," Rank: ").concat(e.rank))}))},onCloseMenu:function(){this.sheet=!1},onClickMessage:function(e){window.console.log("[".concat(e,"] ").concat(this.messages[e]))}},created:function(){var e=this;s.setDefaultRequestTimeout(3e3),s.addReceiver("greeting",(function(n,t){e.messages.push(n.greeting),setTimeout((function(){t("OK!")}),1e3)})),s.hook.before("getScore",(function(){s.send("getUser").then((function(n){return e.messages.push("Name: "+n.name)}))})).after("getScore",(function(){s.send("getAvg").then((function(n){return e.messages.push("Avg: "+n.avg)}))})),s.browser.addCommand("echo",(function(e,n){n({message:e["message"]})})).addCommand("echoError",(function(e,n,t){t("Echo Error!")})).addCommand("tooLong",(function(e,n){setTimeout((function(){n()}),3e4)})).addCommand("getUser",(function(e,n){n({name:"Brad"})})).addCommand("getScore",(function(e,n){n({score:90,rank:2})})).addCommand("getAvg",(function(e,n){n({avg:68})}))}},f=l,d=(t("034f"),t("2877")),m=Object(d["a"])(f,u,a,!1,null,null,null),p=m.exports;o["default"].config.productionTip=!1,new o["default"]({vuetify:c,render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,n,t){}});
//# sourceMappingURL=app.07642369.js.map